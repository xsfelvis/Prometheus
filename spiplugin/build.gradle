apply plugin: 'java-library'
apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'com.novoda.bintray-release'//添加Jcenter

buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        jcenter()
    }
}

uploadArchives {
    repositories {
        flatDir {
            name "localRepository"
            dir "localRepository/libs"
        }
    }
}


repositories {
//    mavenLocal()
//    mavenCentral()
    jcenter()
}

group "com.xsfdev"
version "1.2"

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    compile gradleApi()
    compile localGroovy()
    api 'com.squareup:javapoet:1.9.0'
    api 'com.xsfdev:spi-loader:1.0.4'
    api 'com.xsfdev:spi-annotation:1.0.0'
    api 'org.javassist:javassist:3.23.1-GA'
}

sourceCompatibility = "1.7"
targetCompatibility = "1.7"

//添加Jcenter
publish {
    artifactId = 'spi-plugin'//项目名称
    userOrg = rootProject.userOrg//bintray.com用户名
    groupId = rootProject.groupId//jcenter上的路径
    publishVersion = rootProject.publishVersion//版本号
    desc = rootProject.desc//描述
    website = rootProject.website
    licences = rootProject.licences
}
